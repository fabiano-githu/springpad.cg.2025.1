# Projeto ONCredit - Iniciando o Projeto

*`Por Luferat — 30/01/2026`*

## Fork e Clone

1. Logue-se no [Github.com](https://github.com/);
1. Acesse o [repositório do projeto](https://github.com/Luferat/oncredit);
2. Clique no botão `[Fork]` para fazer _fork_ do _main_ para sua conta GitHub.com;
3. Faça _Clone_ do projeto para o PC local clicando em `[<> Code]` depois em "Open with Github Desktop";
4. Altere a URL local para clonar na pasta `Documents\Flutter`.

> **DICA!**
> - _Crie seu primeiro fork agora._

## Dependências

1. Abra o arquivo `pubspec.yaml` para adicionar as dependências. Localize as linhas:

```yaml
dependencies:
  flutter:
    sdk: flutter

  cupertino_icons: ^1.0.8
```

2. Adicione as dependências do `dio` e do `intl` logo após, sem alterar o que já tem:

```yaml
  dio: ^5.9.1
  intl: ^0.19.0
```

> **DICA!**
> - _Pesquise sobre o `dio` e o `ìntl` para conhecê-los e porque os usaremos no projeto._
> - _Novas dependências podem ser necessárias no futuro._

3. Abra um **Command Prompt** (não use PowerShell) no _Android Studio_ e execute os comandos abaixo, um de cada vez, observando possíveis erros e dando soluções:

| Ordem | Comando | Ação |
|---|---|---|
|1| `flutter doctor` | Verifica se o _Android toolchain_ e licensasa pendentes. | 
|2| `flutter create . --platforms=android,web` | Recria a estrutura das versões Android e Web. |
|3| `cd android` | Acessa a pasta do aplicativo versão Android. |
|4| `gradlew clean` | Limpa o cache do Gradle. |
|5| `cd ..` | Volta para a raiz do projeto. |
|6| `flutter clean` | Limpa o cache de dependências. |
|7| `flutter pub get` | Baixa todas as dependências. |

4. Teste o aplicativo selecionando um dispositivo e clicando no ▶. Se preferir, rode via CMD com um comando:

| Comando | Ação |
|---|---|
| `flutter devices` | Lista os todos dispositivos conectados atualmente. |
| `flutter run -d edge` | Roda no Edge (Web). |
| `flutter run -d chrome` | Roda no Chrome (Web). |
| `flutter run -d android` | Roda no dispositivo Android conectado (emulador ou device). |

## Configurações e UID

1. Crie um arquivo `lib/config/app_config.dart` com o conteúdo:

```dart
// lib/config/app_config.dart

class AppConfig {
  static const String fixedUid = 'dev_uid_001';
}
```

> **DICA!**
> - _Lembre-se da constante `fixedUid` e do seu valor `dev_uid_001`._
> - _Você pode trocar  `dev_uid_001` por outra string qualquer._
> - _Essa chave faz a conexão com a base de dados do aplicativo atual._
> - _Ela não deve se repetir se você tiver vários aplicativos com a mesma base de dados._

2. Abra `lib/pages/home.dart`;
3. Adicione o import de `config/app_config.dart` logo no começo:

```dart
import '../config/app_config.dart';
```

5. Localize a linha abaixo (linha 19):

```dart
status = 'UID ativo: não informado';
```

4. Troque por:

```dart
 _status = 'UID ativo: ${AppConfig.fixedUid}';
```

5. A versão final de `lib/pages/home.dart` deve ser:

| [`lib/pages/home.dart`](https://raw.githubusercontent.com/Luferat/oncredit/refs/heads/001.Depend%C3%AAncias_e_UID/lib/pages/home.dart) |
|---|
| _Mantenha <kbd>Ctrl</kbd> pressionado ao clicar no link._ |


## IMPORTANTE!

Para evitar "re-autenticações", precisamos "travar" a porta do servidor Flutter Web:

1. No Android Studio, na parte superior, clique no `⋁` ao lado de `main.dart` e em `Edit Configurations...`;
2. No campo `Additional run args:` preencha com `--web-port=5678`;
3. Clique em [Ok].

Se roda o app via `CMD`, comande:

```cmd
flutter run -d edge --web-port=5678
```

Troque `edge` pelo seu dispositivo preferido como vimos antes.

> **OBSERVAÇÔES!**
> - _Isso força o aplicativo a rodar sempre no socket `http://localhost:5678` evitando recriar as _sessions_ do navegador._

Mais uma vez, faça todos os testes possíveis no aplicativo antes da próxima etapa!!!

---

<p align="center"><a href="#file-00-md">↑ Sumário</a></p>
