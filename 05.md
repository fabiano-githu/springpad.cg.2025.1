# Projeto ONCredit - P√°gina Inicial

*`Por Luferat ‚Äî 02/02/2026`*

> **VERSIONAMENTO**
> - _Crie um novo branch baseado no anterior._

Vamos preparar a p√°gina inicial do aplicativo que ter√° uma estrutura similar a:

<p align="center"><img alt="image" src="https://gist.github.com/user-attachments/assets/654ccecf-6fa6-40cf-8219-4b2be8db2171" /></p>

## Total a Receber

O primeiro bloco que vemos √© "Total a receber" que √© um resumo para o usu√°rio de quanto ele tem de cr√©dito √† receber dos clientes.
Basicamente teremos:

```makefile
SALDO = Œ£ (valor das compras) - Œ£ (valor dos pagamentos)
```

Vamos aos passos:

1. Crie `lib/services/finance_service.dart` com o conte√∫do abaixo:

| [`lib/services/finance_service.dart`](https://raw.githubusercontent.com/Luferat/oncredit/refs/heads/003.P%C3%A1gina_inicial/lib/services/finance_service.dart) |
|---|
| _Mantenha <kbd>Ctrl</kbd> pressionado ao clicar no link._ |

> **DICA!**
> - _Esse service buscar√° os dados na API, usando o `dio` e far√° os c√°lculos._

2. Crie `lib/tools/formatters.dart` que faz a formata√ß√£o da moeda e da data para `pt-BR`:

| [`lib/tools/formatters.dart`](https://raw.githubusercontent.com/Luferat/oncredit/refs/heads/003.P%C3%A1gina_inicial/lib/tools/formatters.dart) |
|---|
| _Mantenha <kbd>Ctrl</kbd> pressionado ao clicar no link._ |

3. Edite `lib/pages/home.dart` para ter o seguinte conte√∫do:

| [`lib/pages/home.dart`](https://raw.githubusercontent.com/Luferat/oncredit/refs/heads/003.P%C3%A1gina_inicial/lib/pages/home.01.dart) |
|---|
| _Mantenha <kbd>Ctrl</kbd> pressionado ao clicar no link._ |

> **üìö DICA DE ESTUDO!**
> - _Observe que usamos `Future<>` no `service` e `FutureBuilder<>` na p√°gina._
> - _Isso permite que o aplicativo continue funcionando enquanto consulta a API via Internet, o que pode demorar!_ 
>  - _`Future<>` √© bem similar √†s `Promise<>` do JavaScript e permite opera√ß√µes ass√≠ncronas, essenciais em aplica√ß√µes conectadas._

Teste o aplicativo nas vers√µes Web e Android para verificar se o saldo atual aparece atualizado.

_Se est√° usando o JSON _mokado_ no RTDB, o valor deve ser `R$ 249,60`._



## Pesquisa e Listagem de Clientes

Para a caixa de pesquisa de cliente e a listagem dos mesmos, vamos precisar de um `model` e de um `service` para obter os dados de forma segura usando o `dio`.

1. Crie `lib/models/client.dart` com o seguinte c√≥digo:

| [`lib/models/client.dart`](https://raw.githubusercontent.com/Luferat/oncredit/refs/heads/003.P%C3%A1gina_inicial/lib/models/client.dart) |
|---|
| _Mantenha <kbd>Ctrl</kbd> pressionado ao clicar no link._ |

2. Crie `lib/services/client_service.dart` com o seguinte conte√∫do:

| [`lib/services/client_service.dart`](https://raw.githubusercontent.com/Luferat/oncredit/refs/heads/003.P%C3%A1gina_inicial/lib/services/client_service.dart) |
|---|
| _Mantenha <kbd>Ctrl</kbd> pressionado ao clicar no link._ |

3. Ajuste todo o c√≥digo de `lib/pages/home.dart` para:

|[`lib/pages/home.dart`](https://raw.githubusercontent.com/Luferat/oncredit/refs/heads/003.P%C3%A1gina_inicial/lib/pages/home.dart)|
|---|
| _Mantenha <kbd>Ctrl</kbd> pressionado ao clicar no link._ |


> **üìö O QUE TEMOS?**
> - _O `card` com o "Saldo total √† receber" se mant√©m;_
> - _O formul√°rio de pesquisa √© criado no widget `_buildSearchField()` no final do c√≥digo;_
> - _O widget do formul√°rio e "chamado" logo abaixo do saldo;_
> - _Em seguida, a listagem dos clientes que, por enquanto, n√£o √© clic√°vel;_
> - _Finalmente, o bot√£o `[Novo cliente]` √© renderizado no rodap√© do `body`, ainda sem clique._


Teste o aplicativo na Web e no Android para ver se o comportamento est√° aceit√°vel.

_Se quiser, fa√ßa ajustes na UI para deixar o visual aplicativo mais ao seu gosto._

---

<p align="center"><a href="#file-00-md">‚Üë Sum√°rio</a></p>
